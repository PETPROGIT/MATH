<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="CSS/mainScreenCSS.css">
    <link rel="stylesheet" href="CSS/homePageCSS.css">
    <link rel="stylesheet" href="CSS/navCSS.css">
    <link rel="stylesheet" href="CSS/infoPageCSS.css">
    <link rel="stylesheet" href="CSS/messageCSS.css">
    <link rel="stylesheet" href="CSS/taskPageCSS.css">
    <link rel="stylesheet" href="CSS/friendsCSS.css">


    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    
<body>
    
    <!-- download screen-->
    <div class="downloadScreen" id="downloadScreen">
        <div class="spinner-border" role="status" style="width: 60px; height: 60px;">
            <span class="visually-hidden"><span>
        </div>
    </div>


    <!-- wrong screen  ------------------------------------------------------------------------- -->
    <section class="wrongScreen">
        <span style="color: white;">This app is not optimized for this screen yet.</span>
    </section>

    <div class="bg">
        <canvas id="pixie"></canvas>
        <div class="container"></div>
    </div>
    
    <!-- main screen  ------------------------------------------------------------------------- -->
    <section class="mainScreen" id="mainScreen">
        <div class="container">












            <!-- home-game page  ------------------------------------------------------------------------- -->
            <div class="page" id="homePage">

                <!-- gir  -->
                <!--<div class="gir_1" id="gir"></div>-->

                <div class="userInfo" id="userInfo">
                    <div style="text-align: center;">
                        <div class="userPhoto"><img src="img/userPhoto.png" class="photo" id="userPhoto"></div>
                    </div>
                    <div style="width: 68%; text-align: left; color: black; font-size: 16px;">
                        <div class="userName" id="userName" style="color: black; font-size: 16px;>NEWUSER</div>
                        Energy:
                        <div class="EnergyBar" id="EnergyBar"><div class="progress" id="progress"></div></div>
                    </div>
                </div>


                <div class="balance" id="balance">
                    <span id="balanceHTML"></span>
                </div>


                <div class="cowMining">
                    <img src="d7b48b764442426281d66d511819181fe2pTkDIOtCCuRNGj-1.png" id="p" style="margin-bottom: 10px;">
                </div>



                <div class="play" id="play"> 

                    <button class="volume" onmousedown="volumeMusic()" id="volume"><span class="material-symbols-outlined">volume_up</span></button>

                    <button class="startMining" onmousedown="play()" id="startMining">
                        <span class="material-symbols-outlined arrF" style="margin-right: 20px;">arrow_forward</span>

                        Start dancing

                        <span class="material-symbols-outlined arrB" style="margin-left: 20px;">arrow_back</span>
                    </button>

                    <button class="inviteFriends" onmousedown="showIniteFriendsWind()">
                        <div style="display: flex; align-items: center;">
                            <img src="img/friend.png" style="width: 34px; margin-right: 15px;">
                            Invite friends
                        </div>
                        <img src="img/arrow.png"  style="width: 28px; transform: rotate(270deg);">
                    </button>

                    <button id="testBtn">TEST</button>
                </div>
            </div>



        </div>
    </section>










    <!-- download script-->
    <script src="js/play.js"></script>
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="js/transitions.js"></script>
    <script src="js/message.js"></script>
    <script src="js/task.js"></script>
    <script src="js/friend.js"></script>


    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.bottom_bar_bg_color = "#000000";
        tg.header_bg_color = "#000000";
        
        let user = tg.initDataUnsafe.user;

        let userName = user.username;
        let userPhoto = user.photo_url;

        tg.lockOrientation();

        tg.enableClosingConfirmation();

        document.getElementById("testBtn").addEventListener("click", () => {
            tg.enableClosingConfirmation();

        })

        document.write("|| name: ", userName);
        document.write("|| photo: ", userPhoto);

        document.getElementById("userName").textContent = userName;
        document.getElementById("userPhoto").src = userPhoto;

        document.write("|| chat: ", JSON.stringify(tg.initDataUnsafe));

    </script>

    <script>
        window.addEventListener('load', () => {
            document.getElementById("downloadScreen").style.visibility = "hidden";
            document.getElementById("mainScreen").style.animation = "downloadAnimation .5s ease-in-out";
            document.querySelector(".bg").style.opacity = ".4";
        }) 
    </script>

</body>
</html>
